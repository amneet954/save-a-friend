(this["webpackJsonpsave-a-friend"]=this["webpackJsonpsave-a-friend"]||[]).push([[0],{280:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(20),o=n.n(r),c=n(175),s=n(19),i=n(68),l=n(176),u=n(181),d=n(177),p=n(11),m=n.n(p),j=n(21),b=n(27),h=n.n(b),g={},f="GET_USER",O="REGISTER_USER",x="REMOVE_USER",v="UPDATE_INFO",y=function(e){return{type:f,user:e}},w=function(e){return{type:O,user:e}},C=function(e){return{type:v,user:e}},N=function(e,t){return function(){var n=Object(j.a)(m.a.mark((function n(a){var r,o;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,h()({method:"POST",data:{username:e,password:t},withCredentials:!0,url:"http://localhost:4000/auth/login"});case 3:r=n.sent,o=r.data,a(y(o)),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0),a(y({error:n.t0}));case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},k=function(e,t,n,a){return function(){var r=Object(j.a)(m.a.mark((function r(o){var c,s;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,h()({method:"POST",data:{username:e,password:t,email:n,updateType:a},withCredentials:!0,url:"http://localhost:4000/auth/updateUserInfo"});case 3:c=r.sent,s=c.data,o(C(s)),r.next=11;break;case 8:return r.prev=8,r.t0=r.catch(0),r.abrupt("return",o(C({error:r.t0})));case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},T=function(e,t,n){return function(){var a=Object(j.a)(m.a.mark((function a(r){var o,c;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,h()({method:"POST",data:{username:e,password:t,email:n},withCredentials:!0,url:"http://localhost:4000/auth/register"});case 3:o=a.sent,c=o.data,r(w(c)),a.next=11;break;case 8:return a.prev=8,a.t0=a.catch(0),a.abrupt("return",r(w({error:a.t0})));case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:case O:return t.user;case x:return g;case v:return t.user;default:return e}},R={},L="CREATE_REPORT",P="FOUND_PET",E="GET_REPORT",I=function(e){return{type:L,report:e}},B=function(e){return{type:E,singleReport:e}},F=function(e){return function(){var t=Object(j.a)(m.a.mark((function t(n){var a,r,o,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h()({method:"GET",baseURL:"http://localhost:4000/report/pet/".concat(e)});case 3:return a=t.sent,r=a.data,t.next=7,h()({method:"GET",withCredentials:!0,baseURL:"http://localhost:4000/comment/".concat(e)});case 7:o=t.sent,c=o.data,n(B({data:r,commentData:c})),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),n(B({error:t.t0}));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(j.a)(m.a.mark((function t(n){var a,r,o,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.get("userId"),r=e.get("petName"),console.log("FORM DATA: ",a,r),t.next=6,h()({method:"POST",data:e,withCredentials:!0,url:"http://localhost:4000/report/upload?fileID=".concat(a).concat(r)});case 6:o=t.sent,c=o.data,n(I(c)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n(I({error:t.t0}));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return t.report;case P:return t.foundPet;case E:return t.singleReport;default:return e}},U=n(26),M=[],_="FOUND_OR_LOST",z="GET_REPORTS",W="GET_SEARCH_RESULTS",H="LOCAL_ACTIVE_PETS",G=function(e){return function(){var t=Object(j.a)(m.a.mark((function t(n){var a,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h()({method:"GET",withCredentials:!0,url:"http://localhost:4000/report/foundPets/".concat(e)});case 3:a=t.sent,r=a.data,n({type:_,petList:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log({Error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(U.a)(t.petList);case z:return Object(U.a)(t.report);case W:return Object(U.a)(t.searchResults);case H:return Object(U.a)(t.localActivePets);default:return e}},V={},Y="CREATE_COMMENT",q=function(e){return{type:Y,comment:e}},J=function(e,t,n,a){return function(){var r=Object(j.a)(m.a.mark((function r(o){var c,s;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,h()({method:"POST",baseURL:"http://localhost:4000/comment/",withCredentials:!0,data:{petCommentId:e,userId:t,content:n,petName:a}});case 3:c=r.sent,s=c.data,o(q(s)),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),console.log(r.t0),o(q({error:r.t0}));case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;return t.type===Y?t.comment:e},X=n(151),K=n(179),$=n.n(K),ee=n(180),te=n.n(ee),ne=Object(i.combineReducers)({user:S,report:D,allReports:Z,comment:Q}),ae=Object(d.composeWithDevTools)(Object(i.applyMiddleware)(u.a,Object(l.createLogger)({collapsed:!0}))),re={key:"root",storage:$.a,stateReconciler:te.a},oe=Object(X.a)(re,ne),ce=Object(i.createStore)(oe,ae),se=Object(X.b)(ce),ie=n(182),le=Object(ie.a)({}),ue=n(37),de=n(28),pe=n(9),me=n(336),je=n(337),be=n(338),he=n(342),ge=n(320),fe=window.matchMedia("(prefers-color-scheme: dark)").matches,Oe=fe?"#191919":"#ffffff",xe=fe?"#ffffff":"#2E3B55",ve=Object(ge.a)((function(e){return{appBar:{background:Oe},authGrid:{marginTop:"3%",paddingBottom:"3%",paddingLeft:"25%",paddingRight:"25%"},authPaper:{marginTop:"15%",marginLeft:"20%",marginRight:"20%",paddingBottom:"2%"},authPaperContainer:{paddingTop:"2%"},authFailureMessage:{paddingLeft:"33%",paddingRight:"33%"},authSecondaryButtons:{paddingBottom:"3%",paddingLeft:"3%",color:"white"},authSecondaryButtonContainer:{marginTop:"5%",marginLeft:"15%"},authText:{textAlign:"center"},authTextField:{marginTop:"1%",marginBottom:"1%",backgroundColor:"white"},authTextContainer:{paddingLeft:"20%",paddingRight:"20%"},buttonCenter:{margin:"auto",display:"block"},cardContent:{textAlign:"center"},comment:{padding:"40px 20px",backgroundColor:Oe},commentButton:{marginTop:"2%",marginLeft:"40%"},commentContent:{textAlign:"left",color:xe},commentField:{backgroundColor:"white"},commentItem:{marginBottom:"2%"},commentPostedAt:{textAlign:"left",color:"gray"},commentSubmit:{marginTop:"2%",paddingLeft:"10%",paddingRight:"10%",paddingBottom:"2%"},commentUnauth:{textAlign:"center",paddingTop:"1%",paddingBottom:"1%",color:xe},commentUsername:{margin:0,textAlign:"left",color:xe},footer:{marginTop:"calc(5% + 60px)",bottom:0},footerIcon:{display:"inline",margin:-5,marginLeft:"1%",marginTop:-7,fontSize:30},footerLink:{color:"inherit",display:"inline"},footerText:{display:"inline",marginLeft:"2%"},footerTypography:{marginTop:"2%",marginLeft:"10%",marginRight:"10%",paddingBottom:"2%"},gridContainer:{marginTop:"5%"},gridItem:{paddingBottom:"3%",paddingLeft:"3%"},gridPadding:{marginTop:"14%",paddingLeft:"10%",paddingRight:"10%"},image:{margin:"auto",display:"block",width:"100px"},linkDecoration:{textDecoration:"none",color:"black"},loginFields:{backgroundColor:"#FFFFFF",marginRight:"auto",marginTop:"2%",marginBottom:"2%",margin:"auto",display:"inline-block",marginLeft:"30px"},mapContainer:{marginLeft:"38%",marginRight:"38%",marginTop:"8%",marginBottom:"4"},mapPopUp:{backgroundColor:"white"},mapRedirectButton:{marginLeft:"2%"},mapZoomOutButton:{marginRight:"2%"},markerCount:{color:"black"},navBarLink:{textDecoration:"none",marginLeft:"2%",marginRight:"2%",color:xe},navbarTitle:{flexGrow:1},navAuth:{color:xe},outSearchLayer:{paddingLeft:"5%"},pageInfo:{padding:"4%",textAlign:"center",marginBottom:"2%"},paperCommentHeader:{background:Oe,marginBottom:"5%",marginTop:"5%"},paperCommentTypography:{textAlign:"center",paddingTop:"1%",paddingBottom:"1%",color:xe},reportContainer:{padding:"4%",marginLeft:"10%",marginRight:"10%"},reportTextField:{backgroundColor:"#FFFFFF",marginTop:"1%",marginBottom:"2%"},singlePetBody:{marginTop:"2%",marginBottom:"3%",textAlign:"center"},singlePetDate:{},singlePetImage:{paddingLeft:"2%",paddingRight:"2%"},singlePetTitle:{textAlign:"center",paddingTop:"2%"},textFieldCenter:{width:"50%;",marginLeft:"33%",marginTop:"8%",display:"block"},title:{textAlign:"center"},titlePadding:{marginLeft:"25%",marginRight:"25%",textAlign:"center",marginTop:"16%",marginBottom:"6%"},uploadImage:{width:"500px"},whiteText:{color:"white"},zoomOutButton:{display:"block",marginLeft:"auto",marginRight:"auto",marginTop:"2%",marginBottom:"2%",margin:"auto"},loginRegisterButton:{marginLeft:"auto",marginBottom:"1.75%",textDecoration:"none"},tabs:{marginLeft:"auto",textDecoration:"none",color:xe},logoTabs:{textDecoration:"none"},tabsContainer:{marginLeft:"auto"},logoTabColor:{color:xe,textDecoration:"none",marginRight:"-10"},icons:{fontSize:"1.4rem"},iconLogo:{color:"white"},navBarcolor:{backgroundColor:Oe},responsiveContainer:{marginLeft:"auto",backgroundColor:Oe},responsiveButtonContainer:{marginLeft:"auto",color:xe},responsiveMenuIconToggle:{fontSize:"3rem",color:xe},tabHeight:{minHeight:"75px",height:"75px"},reportFormTitles:{textAlign:"center"},reactMap:{marginTop:"10%",marginLeft:"10%"},reactMapButtons:{textDecoration:"none",color:"white"},navTabs:{display:"inline",marginRight:"1%",marginBottom:"-1%",textDecoration:"none"},navLightModeBar:{color:"#191919"},searchBarMargin:{marginLeft:"1%"},searchBarContainer:{marginTop:"10%"}}})),ye=n(335),we=n(353),Ce=n(354),Ne=n(355),ke=n(356),Te=n(357),Se=n(347),Re=n(322),Le=n(2),Pe=function(e){var t=e.allReports,n=ve();return Object(Le.jsx)(Re.a,{container:!0,span:!0,className:n.gridContainer,children:t.map((function(e,t){return console.log("PET:  ",e),Object(Le.jsx)(Re.a,{item:!0,xs:12,sm:4,className:n.gridItem,children:Object(Le.jsxs)(we.a,{children:[Object(Le.jsx)(Ce.a,{component:"img",alt:"pet",height:"200",image:"SAF Organization"!==e.petImageName?"http://localhost:4000/file/".concat(e.petImageName):"https://i.imgur.com/reEUS1d.jpg"}),Object(Le.jsx)(Ne.a,{className:n.cardContent,children:Object(Le.jsx)(ke.a,{gutterBottom:!0,variant:"h5",component:"div",children:e.petName})}),"lost"===e.found?Object(Le.jsxs)("span",{children:[Object(Le.jsxs)(ke.a,{display:"block",variant:"body2",color:"text.secondary",children:["Date Lost: ",e.createdAt]}),Object(Le.jsxs)(ke.a,{display:"block",variant:"body2",color:"text.secondary",children:["Last Place Seen: ",e.lastPlaceSeen]}),Object(Le.jsx)(Te.a,{children:Object(Le.jsx)(Se.a,{size:"small",fullWidth:"true",href:"http://localhost:3000/pet/".concat(e._id),children:"Learn More"})})]}):null]})},t)}))})},Ee=n(142),Ie=n(328),Be=n(349),Fe=n(340),Ae=n(330),De=function(e){var t=e.allComments,n=e.petName,r=e.petCommentId,o=e.userId,c=e.updateComments,i=ve(),l=Object(a.useState)(""),u=Object(pe.a)(l,2),d=u[0],p=u[1],b=Object(s.b)(),h=function(){var e=Object(j.a)(m.a.mark((function e(t,a,r,o){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.preventDefault(),e.next=3,b(J(t,a,r,n));case 3:p(""),c();case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),g=t.length>0?"Recent Updates":"Help Us Find a Friend";return Object(Le.jsxs)(Ee.a,{className:i.paperCommentHeader,children:[Object(Le.jsx)(ke.a,{gutterBottom:!0,variant:"body1",className:i.paperCommentTypography,component:"div",children:g}),Object(Le.jsx)(Ie.a,{}),t.length>0?Object(Le.jsx)("span",{children:t.map((function(e,t){var n=e.createdAt,a=n.lastIndexOf(":"),r=n.slice(0,a),o=n.lastIndexOf(" ")+1,c=n.slice(o);return Object(Le.jsx)("span",{className:i.commentItem,children:Object(Le.jsx)(Ee.a,{className:i.comment,children:Object(Le.jsxs)(Re.a,{container:!0,wrap:"nowrap",spacing:2,children:[Object(Le.jsx)(Re.a,{item:!0,children:Object(Le.jsx)(Be.a,{alt:"Profile Pic"})}),Object(Le.jsxs)(Re.a,{justifyContent:"left",item:!0,xs:!0,zeroMinWidth:!0,children:[Object(Le.jsx)("h3",{className:i.commentUsername,children:e.username}),Object(Le.jsx)("p",{className:i.commentContent,children:e.content}),Object(Le.jsxs)("p",{className:i.commentPostedAt,children:["Posted at: ",r," ",c," EST"]})]})]})})})}))}):null,o?Object(Le.jsxs)("form",{onSubmit:function(e){h(r,o,d,e),p("")},className:i.commentSubmit,children:[Object(Le.jsx)(Fe.a,{fullWidth:!0,required:!0,label:"Write your comment here",variant:"filled",onChange:function(e){return p(e.target.value)},className:i.commentField}),Object(Le.jsx)(Ae.a,{type:"submit",variant:"contained",color:"primary",className:i.commentButton,children:"Post Comment"})]}):Object(Le.jsx)(ke.a,{gutterBottom:!0,variant:"body1",className:i.commentUnauth,component:"div",children:"Sign Up/Login to get involved in the conversation!"})]})},Ue=n(331),Me=function(e){var t=e.content,n=ve();console.log("CONTENT TYPE: ",t);var r=t.type,o=t.pageInfo;return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(Le.jsxs)(Ue.a,{children:[Object(Le.jsx)(we.a,{className:n.titlePadding,children:Object(Le.jsx)("h2",{children:r})}),o?Object(Le.jsx)(we.a,{className:n.pageInfo,children:Object(Le.jsx)("h3",{children:o})}):null]})},_e=n(345),ze=n(329),We=n(332),He=n(333),Ge=n(334),Ze=n(170),Ve=n(190),Ye=n.n(Ve),qe=function(e){var t=e.prefersDarkMode,n=e.unauthNavLinks,r=(e.userID,Object(de.g)()),o=Object(s.c)((function(e){return e})).user,c=t?"#191919":"#ffffff",i=t?"#ffffff":"#2E3B55",l=Object(a.useState)(!1),u=Object(pe.a)(l,2),d=u[0],p=u[1],m=function(e){console.log(e),r.push(e)},j=Object(ge.a)((function(e){return{responsiveContainer:{marginLeft:"auto",backgroundColor:c},responsiveMenuIconToggle:{fontSize:"3rem",color:i},responsiveBackgroundColor:{backgroundColor:i},listBackgroundColor:{backgroundColor:c},listColor:{color:i}}}))();return Object(Le.jsxs)(Le.Fragment,{children:[Object(Le.jsx)("span",{className:j.responsiveBackgroundColor,children:Object(Le.jsx)(_e.a,{anchor:"right",classes:{paper:j.responsiveContainer},onClose:function(){return p(!1)},open:d,onOpen:function(){return p(!0)},children:Object(Le.jsx)("span",{className:j.responsiveBackgroundColor,children:Object(Le.jsxs)(ze.a,{className:j.listBackgroundColor,children:[Object(Le.jsx)(We.a,{children:Object(Le.jsx)(Xe,{setOpenDrawer:p})}),n.map((function(e,t){return Object(Le.jsx)(We.a,{divider:!0,button:!0,onClick:function(){p(!1),m(e.link)},children:Object(Le.jsx)(He.a,{children:Object(Le.jsx)(Ge.a,{className:j.listColor,children:e.title})})},t)})),Object(Le.jsx)(We.a,{divider:!0,button:!0,onClick:function(){p(!1),m("/login")},children:Object(Le.jsx)(He.a,{children:Object(Le.jsx)(Ge.a,{className:j.listColor,children:o._id?"Log Out":"Login/Register"})})})]})})})}),Object(Le.jsx)(Ze.a,{className:j.responsiveContainer,onClick:function(){return p(!d)},disableRipple:!0,children:Object(Le.jsx)(Ye.a,{className:j.responsiveMenuIconToggle})})]})},Je=n(191),Qe=n.n(Je),Xe=function(e){var t=e.setOpenDrawer,n=Object(de.g)(),r=Object(a.useState)(""),o=Object(pe.a)(r,2),c=o[0],s=o[1];return Object(Le.jsx)(Qe.a,{value:c,onChange:function(e){s(e)},onRequestSearch:function(){sessionStorage.setItem("searchValue",c),s(""),n.push("/search"),t&&t(!1)},onCancelSearch:function(e){s("")}})},Ke=n(192),$e=n.n(Ke),et=n(193),tt=n.n(et),nt=n(194),at=n.n(nt),rt=n(195),ot=n.n(rt),ct=n(197),st=n.n(ct),it=n(196),lt=n.n(it),ut=n(352),dt=n(200),pt=n(350),mt=function(){var e=Object(ye.a)("(prefers-color-scheme: dark)"),t=e?"#191919":"#ffffff",n=e?"#ffffff":"#2E3B55",r=Object(dt.a)();r=Object(pt.a)(r);var o=ve(),c=Object(s.c)((function(e){return e})),i=Object(s.b)(),l=function(){var e=Object(j.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(function(){var e=Object(j.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h()({method:"DELETE",withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*"},url:"http://localhost:4000/auth/logout"});case 3:t({type:x}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=Object(a.useState)(0),d=Object(pe.a)(u,2),p=d[0],b=d[1],g=Object(a.useState)(null),f=Object(pe.a)(g,2),O=(f[0],f[1],Object(ye.a)(r.breakpoints.down("sm"))),v=[{link:"/reports",title:"All Lost Friends",icon:Object(Le.jsx)($e.a,{className:o.icons,style:{color:n}})},{link:"/foundFriends",title:"Community Accomplishments",icon:Object(Le.jsx)(tt.a,{className:o.icons,style:{color:n}})},{link:"/newReport",title:"Create an Alert",icon:Object(Le.jsx)(at.a,{className:o.icons,style:{color:n}})},{link:"/aboutUs",title:"About Us",icon:Object(Le.jsx)(ot.a,{className:o.icons,style:{color:n}})}];return Object(Le.jsxs)(me.a,{elevation:0,children:[Object(Le.jsxs)(je.a,{style:{backgroundColor:t},children:[Object(Le.jsx)(ue.b,{to:"/",className:o.logoTabColor,style:{color:n},children:Object(Le.jsx)(be.a,{disableRipple:!0,label:"Save A Friend",classes:{root:o.tabHeight},className:o.navTabs})}),O?Object(Le.jsx)(Le.Fragment,{children:Object(Le.jsx)(qe,{userID:c.user._id,unauthNavLinks:v,prefersDarkMode:e})}):Object(Le.jsxs)(Le.Fragment,{children:[Object(Le.jsx)(he.a,{onChange:function(e,t){b(t)},className:o.tabsContainer,classes:{root:o.tabHeight},value:p,TabIndicatorProps:{style:{backgroundColor:t}},children:v.map((function(e,t){return Object(Le.jsx)(ue.b,{to:e.link,className:o.tabs,style:{color:n},children:Object(Le.jsx)(be.a,{classes:{root:o.tabHeight},disableRipple:!0,icon:e.icon,label:e.title})},t)}))}),Object(Le.jsx)(Xe,{className:o.searchBarMargin}),c.user._id?Object(Le.jsx)(ue.b,{to:"/",className:o.loginRegisterButton,style:{color:n},onClick:l,children:Object(Le.jsx)(be.a,{classes:{root:o.tabHeight},disableRipple:!0,icon:Object(Le.jsx)(lt.a,{style:{color:n,marginTop:"10%"},className:o.icons}),label:"Logout"})}):Object(Le.jsx)(ue.b,{to:"/login",className:o.loginRegisterButton,style:{color:n},onClick:function(){return sessionStorage.setItem("auth","Login")},children:Object(Le.jsx)(be.a,{classes:{root:o.tabHeight},disableRipple:!0,icon:Object(Le.jsx)(st.a,{style:{color:n,marginTop:"10%"},className:o.icons}),label:"Login/Register"})})]})]}),e?null:Object(Le.jsx)(ut.a,{sx:{borderBottom:1},className:o.navLightModeBar})]})},jt=n(351),bt=n(341),ht=function(){var e=Object(s.c)((function(e){return e})).user,t=Object(s.b)(),n=ve(),r=Object(a.useState)(""),o=Object(pe.a)(r,2),c=o[0],i=o[1],l=Object(a.useState)(""),u=Object(pe.a)(l,2),d=u[0],p=u[1],b=Object(a.useState)(""),h=Object(pe.a)(b,2),g=h[0],f=h[1],O=Object(a.useState)(""),x=Object(pe.a)(O,2),v=x[0],y=x[1],w=Object(a.useState)("Login"),C=Object(pe.a)(w,2),S=C[0],R=C[1],L=Object(a.useState)(!1),P=Object(pe.a)(L,2),E=(P[0],P[1]),I=Object(a.useState)(!1),B=Object(pe.a)(I,2),F=B[0],A=B[1],D=Object(a.useState)(""),U=Object(pe.a)(D,2),M=U[0],_=U[1],z=function(){var n=Object(j.a)(m.a.mark((function n(a){var r;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a.preventDefault(),n.t0=S,n.next="Login"===n.t0?4:"Password Reset"===n.t0?9:"Register"===n.t0?16:22;break;case 4:return n.next=6,t(N(c,d));case 6:return H(),e.error&&(r=e.error?e.error:null,_(r),A(!0)),n.abrupt("break",23);case 9:if(!W()){n.next=15;break}return n.next=13,t(k(c,d,v,S));case 13:H(),R("Login");case 15:return n.abrupt("break",23);case 16:if(!W()){n.next=21;break}return n.next=20,t(T(c,d,v));case 20:H();case 21:return n.abrupt("break",23);case 22:return n.abrupt("return",[]);case 23:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),W=function(){return d===g||(_("Please use the same password phrase for both password fields"),A(!0),!1)},H=function(){i(""),p(""),f(""),R("Login"),E(""),A(""),y("")},G=[{value:c,function:i,eventName:"username",label:"Enter Username",type:"text"},{value:d,function:p,eventName:"password",label:"Password Reset"===S?"Enter New Password":"Enter Password",type:"password"},{value:g,function:f,eventName:"passwordConfirm",label:"Password Reset"===S?"Enter New Password Again":"Enter Password Again",type:"password"},{value:v,function:y,eventName:"email",label:"Enter Email Address",type:"email"}],Z=[{msg:"Register"===S?"I already have an account":"I need an account",valueChange:"Register"===S?"Login":"Register"},{msg:"Forgot Password?",valueChange:"Password Reset"}],V="Login"===S?G.slice(0,2):G;return Object(a.useEffect)((function(){var e=sessionStorage.getItem("auth");"Login"!==S&&"Login"===e&&(R("Login"),A(!1))})),e._id?Object(Le.jsx)(de.a,{to:"/"}):Object(Le.jsxs)(Ue.a,{children:[Object(Le.jsx)(jt.a,{className:n.authPaper,children:Object(Le.jsxs)("form",{onSubmit:function(e){return z(e)},children:[Object(Le.jsx)(Ue.a,{children:Object(Le.jsx)(Ue.a,{className:n.authPaperContainer,children:V.map((function(e,t){return Object(Le.jsxs)(Ue.a,{className:n.authTextContainer,children:[Object(Le.jsx)("p",{className:n.authText,children:e.label}),Object(Le.jsx)(Ue.a,{children:Object(Le.jsx)(Fe.a,{variant:"filled",required:!0,fullWidth:!0,name:e.eventName,type:e.type,value:e.value,className:n.authTextField,inputProps:{style:{textAlign:"center"}},onChange:function(t){return e.function(t.target.value)}})})]},t)}))})}),Object(Le.jsx)(Ae.a,{type:"submit",variant:"contained",color:"primary",className:n.zoomOutButton,children:S})]})}),F?Object(Le.jsx)(Ue.a,{className:n.authFailureMessage,children:Object(Le.jsx)(bt.a,{fullWidth:!0,severity:"error",variant:"string",children:"No User Exists"!==M?M:"Incorrect Login Credentials"})}):null,Object(Le.jsx)(Re.a,{container:!0,span:!0,className:n.authSecondaryButtonContainer,children:Z.map((function(e,t){return Object(Le.jsx)(Re.a,{item:!0,xs:12,sm:6,className:n.authSecondaryButtons,children:Object(Le.jsx)(Ae.a,{className:n.whiteText,onClick:function(t){return function(e,t){e.preventDefault(),sessionStorage.setItem("auth",t),H(),R(t)}(t,e.valueChange)},children:e.msg})},t)}))})]})},gt=function(){var e=Object(s.c)((function(e){return e})),t=Object(s.b)(),n=e.allReports;Object(a.useEffect)((function(){window.scrollTo(0,0),t(function(){var e=Object(j.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h()({method:"GET",withCredentials:!0,baseURL:"http://localhost:4000/report/homePage"});case 3:n=e.sent,a=n.data,console.log(n),t({type:H,localActivePets:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log({Error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var r={type:n.length>0?"Lost Pets in Your Area":"No Lost  Pets  in  Your Area!  :)",pageInfo:""};return Object(Le.jsxs)(Ue.a,{children:[Object(Le.jsx)(Me,{content:r}),n.length>0?Object(Le.jsx)(Pe,{allReports:n}):null]})},ft=function(){var e=Object(a.useState)(""),t=Object(pe.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(""),c=Object(pe.a)(o,2),i=c[0],l=c[1],u=Object(a.useState)(!1),d=Object(pe.a)(u,2),p=d[0],b=d[1],h=Object(s.c)((function(e){return e.user})),g=Object(s.b)(),f=h._id,O=h.username,x=h.email,v=ve(),y=Object(a.useState)(""),w=Object(pe.a)(y,2),C=w[0],N=w[1],k=Object(a.useState)({}),T=Object(pe.a)(k,2),S=T[0],R=T[1],L=function(){var e=Object(j.a)(m.a.mark((function e(){var t,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.name||alert("Image Upload Failed"),t=new FormData,a=f,r=x,t.append("file",S),t.append("userId",a),t.append("username",O),t.append("contactEmail",r),t.append("petName",n),t.append("lastPlaceSeen",i),e.next=12,g(A(t));case 12:b(!0);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){!0===p&&(window.scrollTo(0,0),b(!1))}),[]);var P=[{value:n,label:"Pet's Name",eventName:"petName",type:"text",function:r},{value:i,label:"Enter Complete Address Here",eventName:"lastPlaceSeen",type:"text",function:l}],E={type:"Hi ".concat(O,", let's save your pet!"),pageInfo:""};return!0===p?Object(Le.jsx)(de.a,{to:"/map"}):O?Object(Le.jsxs)(Ue.a,{children:[Object(Le.jsx)(Me,{content:E}),Object(Le.jsx)(jt.a,{className:v.reportContainer,children:Object(Le.jsx)(Ue.a,{maxWidth:"sm",children:Object(Le.jsxs)("form",{onSubmit:function(e){e.preventDefault(),L(),de.a},children:[P.map((function(e,t){return Object(Le.jsxs)("div",{children:[Object(Le.jsxs)("h4",{className:v.reportFormTitles,children:[e.label,":"]}),Object(Le.jsx)(Fe.a,{variant:"filled",name:e.eventName,type:e.type,value:e.value,required:!0,fullWidth:!0,onChange:function(t){return e.function(t.target.value)},className:v.reportTextField}),Object(Le.jsx)("br",{})]},t)})),Object(Le.jsx)("input",{className:v.textFieldCenter,type:"file",onChange:function(e){N(URL.createObjectURL(e.target.files[0])),R(e.target.files[0])}}),Object(Le.jsx)("br",{}),Object(Le.jsx)("img",{src:C.trim()?C:"Please Upload an Image",alt:"Upload",className:v.image}),Object(Le.jsx)("br",{}),Object(Le.jsx)(Ae.a,{type:"submit",variant:"contained",color:"primary",className:v.buttonCenter,children:"Create a Lost Pet Post"})]})})})]}):Object(Le.jsx)(de.a,{to:"login"})},Ot=function(){var e=Object(s.c)((function(e){return e})).allReports,t=Object(s.b)();return Object(a.useEffect)((function(){window.scrollTo(0,0),t(G("lost")),sessionStorage.setItem("searchValue","default")}),[]),Object(Le.jsxs)(Ue.a,{children:[Object(Le.jsx)(Me,{content:{type:"All Active Reports",pageInfo:""}}),e.length>0?Object(Le.jsx)(Pe,{allReports:e}):null]})},xt=n(80),vt=n(202),yt=n(71),wt=n(150),Ct=n.n(wt),Nt=function(e){e.match;var t=Object(de.g)(),n=ve(),r=Object(a.useState)({}),o=Object(pe.a)(r,2),c=o[0],i=o[1],l=Object(s.c)((function(e){return e})),u=l.allReports,d=l.report,p=function(){var e=Object(j.a)(m.a.mark((function e(){var t,n,a,r,o,c,s,l,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(G("lost"));case 2:for(t={},n=0;n<u.length;n++)a=u[n],r=a.geo,o=a.petName,c=a._id,s=r.longitude,l=r.latitude,d="".concat(s,",").concat(l),t[d]?t[d].push(o+" "+c):t[d]=[o+" "+c];i(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=Object(a.useState)({width:"100vw",height:"95vh",latitude:d.data?d.data.latitude:40.68421,longitude:d.data?d.data.longitude:-73.83163,zoom:14}),h=Object(pe.a)(b,2),g=h[0],f=h[1],O=Object(a.useState)(!0),x=Object(pe.a)(O,2),v=x[0],y=x[1],w=Object(s.b)();Object(a.useEffect)((function(){if(Object.keys(c)<1&&p(),function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&(t+=1);return t}(d)>0){var e="";if((e=d.data?d.data.geo:d.geo)&&v){var t=e.longitude,n=e.latitude;f(Object(xt.a)(Object(xt.a)({},g),{},{longitude:t,latitude:n})),y(!1)}}else y(!1)}));var C=Object(a.useRef)(),N=u.map((function(e){return{type:"Feature",properties:{cluster:!1,crimeId:e._id,category:"pet search"},geometry:{type:"Point",coordinates:[parseFloat(e.geo.longitude),parseFloat(e.geo.latitude)]}}})),k=C.current?C.current.getMap().getBounds().toArray().flat():null,T=Object(vt.a)({points:N,zoom:g.zoom,bounds:k,options:{radius:75,maxZoom:16}}),S=T.clusters,R=T.supercluster,L=Object(a.useState)({}),P=Object(pe.a)(L,2),E=P[0],I=P[1],B=Object(a.useState)({}),F=Object(pe.a)(B,2),A=F[0],D=F[1];return d.data?Object(Le.jsxs)("div",{children:[Object(Le.jsxs)(yt.d,Object(xt.a)(Object(xt.a)({},g),{},{minZoom:5,maxZoom:20,mapboxApiAccessToken:"pk.eyJ1IjoiYW1uZWV0OTU0IiwiYSI6ImNqdjJpd215dzB5azIzeXFvZDMxbmk2ZDYifQ.FIIav70z0itM7EsJHAe_6A",mapStyle:"mapbox://styles/mapbox/streets-v11",onViewportChange:function(e){return function(e){f(e)}(e)},ref:C,attributionControl:!1,children:[S.map((function(e){var t=Object(pe.a)(e.geometry.coordinates,2),a=t[0],r=t[1],o=e.properties,s=o.cluster,i=o.point_count;return s?Object(Le.jsx)(yt.b,{latitude:r,longitude:a,children:Object(Le.jsxs)(Ue.a,{style:{width:"".concat(10+i/N.length*20,"px"),height:"".concat(10+i/N.length*20,"px")},onClick:function(){I({});var t=R.getClusterExpansionZoom(e.id);f(Object(xt.a)(Object(xt.a)({},g),{},{latitude:r,longitude:a,zoom:t,transitionInterpolator:new yt.a({speed:2}),transitionDuration:"auto"}));var n=e.geometry.coordinates,o=n[0].toFixed(5).toString(),s=n[1].toFixed(5).toString();if(c[o+","+s]){var i={names:c[o+","+s],long:Number(o),lat:Number(s)};D(i)}else console.log("fuck off",c)},children:[Object(Le.jsx)(Ct.a,{fontSize:"small",color:"primary"}),Object(Le.jsx)("h3",{className:n.markerCount,children:i})]})},e.id):Object(Le.jsx)(yt.b,{latitude:r,longitude:a,children:Object(Le.jsx)(Ue.a,{onClick:function(){D({});var t=e.geometry.coordinates[0].toString(),n=e.geometry.coordinates[1].toString();if(c[t+","+n]){var o=c[t+","+n][0],s=o.indexOf(" "),i=o.slice(0,s),l=o.slice(s+1);I({id:l,name:i,long:t,lat:n})}f({width:window.innerWidth,height:.84*window.innerHeight,latitude:r,longitude:a,zoom:20,transitionInterpolator:new yt.a({speed:2}),transitionDuration:"auto"})},children:Object(Le.jsx)(Ct.a,{fontSize:"small",color:"primary"})})},e.properties.crimeId)})),A.names?Object(Le.jsx)(yt.c,{latitude:Number(A.lat),longitude:Number(A.long),closeButton:!1,children:Object(Le.jsx)(Ue.a,{children:A.names.map((function(e,a){var r=e.indexOf(" "),o=e.slice(0,r),c=e.slice(r+1);return Object(Le.jsx)(Ue.a,{className:n.mapPopUp,onClick:function(){return t.push("/pet/".concat(c))},children:Object(Le.jsx)(ue.b,{to:"/pet/".concat(c),className:n.linkDecoration,children:Object(Le.jsx)("h3",{children:o},a)})})}))})}):null,E.id?Object(Le.jsx)(yt.c,{latitude:Number(E.lat),longitude:Number(E.long),closeButton:!1,children:Object(Le.jsx)(ue.b,{to:"/pet/".concat(E.id),className:n.linkDecoration,children:Object(Le.jsx)("h2",{children:E.name})})}):null]})),Object(Le.jsxs)(Re.a,{container:!0,span:!0,children:[Object(Le.jsx)(Re.a,{item:!0,xs:6,className:n.cardContent,children:Object(Le.jsx)(Ae.a,{color:"primary",type:"submit",className:n.reactMapButtons,onClick:function(){I({}),D({}),f({zoom:10,width:"100vw",height:"95vh",latitude:d.data?d.data.geo.latitude:40.68421,longitude:d.data?d.data.geo.longitude:-73.83163})},children:"Zoom Out"})}),Object(Le.jsx)(Re.a,{item:!0,xs:6,className:n.cardContent,children:Object(Le.jsx)(Ae.a,{color:"primary",type:"submit",className:n.reactMapButtons,onClick:function(){var e=d.data;e?t.push("/pet/".concat(e.query._id)):t.push("/reports")},children:d.data?"Back to ".concat(d.data.petName,"'s page"):"Our Lost Friends"})})]})]}):Object(Le.jsx)(de.a,{to:"/reports"})},kt=function(e){var t=e.match,n=ve(),r=Object(a.useState)(!1),o=Object(pe.a)(r,2),c=o[0],i=o[1],l=Object(a.useState)(!1),u=Object(pe.a)(l,2),d=u[0],p=u[1],b=Object(s.c)((function(e){return e})),g=Object(s.b)(),f=b.report,O=b.user,x=t.params.id,v=function(){g(F(x))},y=function(){var e;g((e=x,function(){var t=Object(j.a)(m.a.mark((function t(n){var a,r,o,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h()({method:"PUT",baseURL:"http://localhost:4000/report/pet/found/".concat(e),withCredentials:!0});case 3:return t.next=5,h()({method:"GET",baseURL:"http://localhost:4000/report/pet/".concat(e)});case 5:return a=t.sent,r=a.data,t.next=9,h()({method:"GET",withCredentials:!0,baseURL:"http://localhost:4000/comment/".concat(e)});case 9:o=t.sent,c=o.data,n({type:P,foundPet:{data:r,commentData:c}}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}())),p(!0)};if(Object(a.useEffect)((function(){window.scrollTo(0,0),g(F(x))}),[]),!0===c)return Object(Le.jsx)(de.a,{to:"/map"});if(!0!==d){if(f.data){var w=f.commentData,C=f.data;return console.log("REPORT HERE:",f.commentData),Object(Le.jsxs)(Re.a,{className:n.gridPadding,children:[Object(Le.jsx)(jt.a,{children:Object(Le.jsxs)(we.a,{children:[Object(Le.jsx)(ke.a,{gutterBottom:!0,variant:"h2",className:n.singlePetTitle,component:"div",children:C.petName}),Object(Le.jsx)(Ce.a,{className:n.singlePetImage,component:"img",alt:"pet",height:"500",image:"http://localhost:4000/file/".concat(C.petImageName)}),Object(Le.jsxs)("span",{className:n.singlePetBody,children:[Object(Le.jsxs)(ke.a,{display:"block",variant:"body1",color:"text.secondary",className:n.singlePetBody,children:[Object(Le.jsx)("strong",{children:" Date Lost: "}),C.createdAt]}),Object(Le.jsxs)(ke.a,{display:"block",variant:"body1",color:"text.secondary",children:[Object(Le.jsx)("strong",{children:"Last Place Seen:"})," ",C.lastPlaceSeen]})]}),Object(Le.jsx)(Te.a,{children:Object(Le.jsx)(Se.a,{size:"large",fullWidth:"true",onClick:function(){return i(!0)},children:"Find me on the map!"})}),C.userId===O._id?Object(Le.jsx)(Te.a,{children:Object(Le.jsx)(Se.a,{size:"large",fullWidth:"true",onClick:function(){return y()},children:"Found Me?"})}):null]})}),Object(Le.jsx)("br",{}),(f.commentData.length,Object(Le.jsx)(De,{allComments:w,petCommentId:C._id,userId:O._id,updateComments:v,petName:C.petName}))]})}return null}de.a},Tt=function(){var e=Object(s.c)((function(e){return e})).allReports,t=Object(s.b)();Object(a.useEffect)((function(){window.scrollTo(0,0),t(G("found"))}),[]);var n={type:"All Found Pets",pageInfo:"We present to you,  our wall of success. Every pet in shown below, has been a family member that went missing at some point in time. Our community of friends worked together tirelessly to help everyone find their pet.  With this wall of success, we hope to comfort and assure newcomers that their pet can be rescued!"};return Object(Le.jsxs)(Ue.a,{children:[Object(Le.jsx)(Me,{content:n}),e.length>0?Object(Le.jsx)(Pe,{allReports:e}):null]})},St=function(){return Object(Le.jsx)(Me,{content:{type:"404 Not Found",pageInfo:""}})},Rt=function(){var e=ve(),t=Object(a.useState)(""),n=Object(pe.a)(t,2),r=n[0],o=n[1],c=sessionStorage.getItem("searchValue")||"default",s=function(){var e=Object(j.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()({method:"GET",withCredentials:!0,baseURL:"http://localhost:4000/report/search/".concat(c)});case 2:t=e.sent,n=t.data,o(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){window.scrollTo(0,0),s()}));var i={type:"".concat(r.length," Results Found"),pageInfo:""};return Object(Le.jsx)(Ue.a,{className:e.searchBarContainer,children:r.length>0?Object(Le.jsx)(Pe,{allReports:r}):Object(Le.jsx)(Me,{content:i})})},Lt=function(){var e={type:"About Us",pageInfo:'"Save-A-Friend" is a group of people that far outnumbers the founders of this project(which would be just 1). Our goal is to create a large community that reaches beyond borders and places a focus on micro level in the everyday life. While a dog is typically considered man\'s best friend, we believe that every pet that belongs to a family, is a family member themselves and deserve to have the utmost attention brought on to them in the unfortunate event that they go missing. We believe that our local community members have the potential to become heroes!'};return Object(Le.jsx)(Me,{content:e})},Pt=n(130),Et=n(201),It=n(346),Bt=n(348),Ft=n(199),At=n.n(Ft),Dt=[{path:"/",component:gt},{path:"/login",component:ht},{path:"/search",component:Rt},{path:"/reports",component:Ot},{path:"/newReport",component:ft},{path:"/map",component:Nt},{path:"/pet/:id",component:kt},{path:"/foundFriends",component:Tt},{path:"/aboutUs",component:Lt},{path:"*",component:St}],Ut=function(){var e=ve(),t=Object(ye.a)("(prefers-color-scheme: dark)"),n=Object(a.useMemo)((function(){return Object(Et.a)({palette:{mode:t?"dark":"light"},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}})}),[t]),r=function(){var t=(new Date).getFullYear();return Object(Le.jsxs)(Pt.a,{inline:!0,className:e.footerTypography,children:[Object(Le.jsx)("p",{className:e.footerText,children:"".concat(t," Save-A-Friend Org")}),Object(Le.jsx)("p",{className:e.footerText,children:"Let's Connect"}),Object(Le.jsx)("a",{href:"https://www.linkedin.com/in/amneet-sandhu/",className:e.footerLink,children:Object(Le.jsx)(At.a,{className:e.footerIcon})})]})};return Object(Le.jsxs)(It.a,{theme:n,children:[Object(Le.jsx)(Bt.a,{}),Object(Le.jsxs)(ue.a,{children:[Object(Le.jsxs)("div",{children:[Object(Le.jsx)(mt,{}),Object(Le.jsx)("main",{children:Object(Le.jsx)(de.d,{children:Dt.map((function(e,t){return Object(Le.jsx)(de.b,{exact:!0,path:e.path,component:e.component},t)}))})})]}),Object(Le.jsx)("footer",{className:e.footer,children:Object(Le.jsx)(r,{})})]})]})},Mt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,360)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),o(e),c(e)}))};o.a.render(Object(Le.jsx)(s.a,{store:ce,history:le,children:Object(Le.jsx)(c.PersistGate,{loading:null,persistor:se,children:Object(Le.jsx)(Ut,{})})}),document.getElementById("root")),Mt()}},[[280,1,2]]]);
//# sourceMappingURL=main.5971baee.chunk.js.map